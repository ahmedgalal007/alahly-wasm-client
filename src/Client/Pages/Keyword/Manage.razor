@page "/keyword/manage"
@using System.Collections.ObjectModel;
@attribute [MustHavePermission(FSHAction.View, FSHResource.Keywords)]

@inject IStringLocalizer<Manage> L
@*@inject IBrandsClient BrandsClient*@
@* @inject IKeywordClient KeywordClient *@

<FshTitle Title="@L["Keywords"]" Description="@L["Manage Keywords."]" />

<EntityTable TEntity="KeywordDto" TId="Guid" TRequest="UpdateKeywordRequest" Context="@Context">

    <EditFormContent>
        @if (!Context.AddEditModal.IsCreate)
        {
            <MudItem xs="12" md="6">
                <MudTextField Value="context.Id" ReadOnly DisableUnderLine Label="@L[$"Keyword Id"]" />
            </MudItem>
        }
        @* <MudItem xs="12" md="6">
        <MudTextField T="string" For="@(() => context.Title)" @bind-Value="context.Title" Label="@L["Title"]" />
        </MudItem>
        <MudItem xs="12" md="12">
        <MudHidden For="@(() => context.DefaultCultureCode)" @bind-Value="CurrentLanguage"></MudHidden>
        </MudItem> *@


        @* @for (int i = 0; i < ActiveTranslations.Count -1; i++) *@
        <MudItem xs="12" md="12">
            <MudItem xs="12" md="3">
                <MudCheckBox @bind-Checked="context.IsOrganization" @onblur="ForceRender" @onchange="ForceRender">
                    @nameof(context.IsOrganization)
                </MudCheckBox>
            </MudItem>
            <MudItem xs="12" md="3">
                <MudCheckBox @bind-Checked="context.IsEvent" @onblur="ForceRender" @onchange="ForceRender">
                    @nameof(context.IsEvent)
                </MudCheckBox>
            </MudItem>
            <MudItem xs="12" md="3">
                <MudCheckBox @bind-Checked="context.IsPerson" @onblur="ForceRender" @onchange="ForceRender">
                    @nameof(context.IsPerson)
                </MudCheckBox>
            </MudItem>
            <MudItem xs="12" md="3">
                <MudCheckBox @bind-Checked="context.IsPlace" @onblur="ForceRender" @onchange="ForceRender">
                    @nameof(context.IsPlace)
                </MudCheckBox>
            </MudItem>
            <MudItem xs="12" md="3">
                <MudCheckBox @bind-Checked="context.IsProduct" @onblur="ForceRender" @onchange="ForceRender">
                    @nameof(context.IsProduct)
                </MudCheckBox>
            </MudItem>

            @* <KeywordLocals TItem="AuditableLocalizedEntity" KeywordId="context.Id" Items="context.Locals" Context="local">
                <MudItem xs="12" md="6">
                    <MudTextField @bind-Value="local.Title"></MudTextField>
                </MudItem>
                <MudItem xs="12" md="6">
                    <MudTextField @bind-Value="local.Description"></MudTextField>
                </MudItem>
            </KeywordLocals> *@
            <KeywordLocals TItem="LocalizedKeyword" KeywordId="context.Id" Items="context.Locals" Context="local">
                <MudItem xs="12" md="6">
                    <MudTextField @bind-Value="local.Title"></MudTextField>
                </MudItem>
                <MudItem xs="12" md="6">
                    <MudTextField @bind-Value="local.Description"></MudTextField>
                </MudItem>
            </KeywordLocals>
        </MudItem>
        <br />
        @* @for (int i = 0; i < ActiveTranslations.Count() -1; i++) *@
        @foreach (var translation in LanguageManager.GetList(null))
        {
            <MudItem xs="12" md="4">
                <MudText>@translation.Active</MudText>
            </MudItem>
        }
    </EditFormContent>

</EntityTable>

@code
{

}